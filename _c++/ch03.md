---
layout: course_layout
title: "C++ CH03"
---
# CH03_字串
## 課程重點
### 字元
1. 單純cin會略過空白字元
2. 如果需要讀取空白可以用cin.get()
(像如果讀到空白就反轉之類的可以用)
3. 每個字元都有一個數字(ASCII 編碼)
A=65、a=97、0=48
### 字串
1. 空字串 string s=""
2. 讀入整行文字，包括空白 getline(cin,s)
3. 字串長度：s.length()或s.size()

## 程式練習
### a003: 提款卡密碼
#### 題目概述
輸入字串，輸出密碼，密碼為兩個字的距離
#### 解題思路
1. 因為可能不只一串密碼，所以用while(cin>>n1)來確認，如果還可以輸入代表還有密碼
2. 密碼只有六個字母，所以可以用for迴圈
#### 程式碼
```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
	char n1,n2;
	while(cin>>n1){
            for(int i=0;i<6;i++){
                cin>>n2;
                cout<<abs(n1-n2);
                n1=n2;
            }
    	    cout<<endl;
	}
}
```

### a063: 文字反序
#### 題目概述
讀取一段文字(可能有空格)，輸出該文字的反序
#### 解題思路
1. 因為可能有空格，所以要用getline讀取
2. 從最大的開始反推(int i要記得-1，不然會超過範圍)
#### 程式碼
```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
    string s;
    getline(cin,s);
    for (int i=s.size()-1;i>=0;i--) {
        cout<<s[i];
    }
    return 0;
}
```

### a163: APCS 106.03 1.秘密差
#### 題目概述
將一個十進位正整數的奇數位數的和稱為A ，偶數位數的和稱為B，則A與B的絕對差值 |A －B| 稱為這個正整數的秘密差。
給定一個 十進位正整數 X，請找出 X的秘密差。
#### 解題思路
1. 設定變數a並反覆改變來判斷應該加在奇數位還是偶數位
2. s[i]是一個字元，要變成數字需要-48 (ASCII)
#### 程式碼
```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
	string s;
	cin>>s;
	int a=0;
	int n1=0,n2=0,n=0;
	for(int i=0;i<s.length();i++){
	    if(a==0){
	        n1=n1+(s[i]-48);
	        a=1;
	    }
	    else{
	        n2=n2+(s[i]-48);
	        a=0;
	    }
	}
	n=abs(n1-n2);
	cout<<n;
}
```
* 可以直接設一個變數，奇偶數位一加一減：
```cpp=
if(a==0){
    n=n+(s[i]-48);
    a=1;
}
else{
    n=n-(s[i]-48);
    a=0;
}
```

### a164: APCS 114.01 2.字串操作
#### 題目概述
給一個字串S ，有三種字串操作，分別如下

1. 兩兩交換：將字串內相鄰兩個字元交換，例如字串 "apcsntnu" 先分組成 (ap)(cs)(nt)(nu)，將會交換為 (pa)(sc)(tn)(un)，即得到 "pasctnun"。
2. 兩兩排序：將字串內相鄰兩個字元按照字典序排序，字元的字典序為 a < b < ... < z，例如字串 "family" 先分組成 (fa)(mi)(ly)，將會交換成 (af)(im)(ly)，即得到 "afimly"。
3. 完美重排：假設字串長度為 n，將字串內的字元編號為0,1,2,...,n−1 ，將字串分成兩半為 0,1,...,n2−1 和  n2,n2+1,...,n−1，並且組合成 0,n2,1,n2+1,...,n2−1,n−1。例如 "apcsntnu" 拆成 "apcs" 和 "ntnu"，然後交錯成 "anptcnsu"。

給定 k 個操作，請依序操作字串，輸出最後的字串結果。
#### 解題思路
1. a=0或1：設一個字元變數先暫存，然後交換
(a=1在前面多加一個條件)
2. 先在for迴圈/2，代表只需要跑n/2次 (0和1交換，2和3交換...)
(n代表字串長度)
3. a=2：一次用兩個變數，j代表前半，k代表後半
設一個空字串，依序加上s[j]和s[k]
#### 程式碼
```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
	string s;
	cin>>s;
	int n,a,b=0;
	cin>>n;
	for(int i=0;i<n;i++){
	    cin>>a;
	    if(a==0){
	        for(int j=0;j<s.size()/2;j++){
	            char s1;
	            s1=s[2*j];
	            s[2*j]=s[(2*j)+1];
	            s[(2*j)+1]=s1;
	        }
	    }
	    if(a==1){
	        for(int j=0;j<s.size()/2;j++){
	            if(s[2*j]>s[(2*j)+1]){
                        char s1;
                        s1=s[2*j];
                        s[2*j]=s[(2*j)+1];
                        s[(2*j)+1]=s1;
	            }
	        }
	    }
	    if(a==2){
	        string tmp="";
	        for(int j=0,k=s.size()/2;j<s.size()/2;j++,k++){
                //j是前半(例如1~4個)k是後半(例如5~8個)，用j控制次數(例如執行4次)
	            tmp+=s[j];
	            tmp+=s[k];
	        }
	        s=tmp;
	    }
	}
	cout<<s;
}
```

## 章節統整/心得
1. 字串和陣列的概念很像，但陣列只能放數字，字串可以放字母和符號。
2. 輸入、輸出、取代都和陣列相似。
3. 字串經常搭配字元和for迴圈使用
4. 如果需要提取數字做運算的話要記得減掉'0'(48)這個字元
